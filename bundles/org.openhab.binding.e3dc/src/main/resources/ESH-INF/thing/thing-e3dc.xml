<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="e3dc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">
	<thing-type id="e3dc">
		<supported-bridge-type-refs>
			<bridge-type-ref id="tcp"/>
		</supported-bridge-type-refs>
		<label>E3DC</label>
		<description>Provides values of your E3DC</description>
		<channel-groups>
            <channel-group id="power" typeId="power"/>
            <channel-group id="emergency" typeId="emergency"/>
        </channel-groups>
	</thing-type>
	
	
    <channel-group-type id="power">
        <label>E3DC Power Block</label>
        <description>Provides values of your attached eletrical Producers (Photovoltaik, Battery, ... and Consumers
            (Household, Wallbox, ...)</description>
        <channels>
            <channel id="pv-power-supply" typeId="pv-power-supply-channel"/>
            <channel id="battery-power-supply" typeId="battery-power-supply-channel"/>
            <channel id="battery-power-consumption" typeId="battery-power-consumption-channel"/>
            <channel id="household-power-consumption" typeId="household-power-consumption-channel"/>
            <channel id="grid-power-consumption" typeId="grid-power-consumption-channel"/>
            <channel id="grid-power-supply" typeId="grid-power-supply-channel"/>
            <channel id="external-power-supply" typeId="external-power-supply-channel"/>
            <channel id="wallbox-power-consumption" typeId="wallbox-power-consumption-channel"/>
            <channel id="wallbox-pv-power-consumption" typeId="wallbox-pv-power-consumption-channel"/>
            <channel id="autarky" typeId="autarky-channel"/>
            <channel id="self-consumption" typeId="self-consumption-channel"/>
            <channel id="battery-soc" typeId="battery-soc-channel"/>
        </channels>
    </channel-group-type>

    <channel-group-type id="emergency">
        <label>E3DC EMS Block</label>
        <description>Provides values of Emergency Power Status (EMS) and regulations like Battery loading / unloading
            restrictions</description>
        <channels>
            <channel id="emergency-power-status" typeId="emergency-power-status-channel"/>
            <channel id="battery-loading-lock" typeId="battery-loading-lock-channel"/>
            <channel id="battery-unloading-lock" typeId="battery-unloading-lock-channel"/>
            <channel id="emergency-power-possible" typeId="emergency-power-possible-channel"/>
            <channel id="weather-predicted-loading" typeId="weather-predicted-loading-channel"/>
            <channel id="regulation-status" typeId="regulation-status-channel"/>
            <channel id="loading-lock-time" typeId="loading-lock-time-channel"/>
            <channel id="unloading-lock-time" typeId="unloading-lock-time-channel"/>
        </channels>
    </channel-group-type>
    
    <!--  TODO add other channel types -->
	
</thing:thing-descriptions>
